import{useCallback as n,useState as r,useEffect as t,useRef as e}from"react";import o from"axios";function i(e,o){var i=n(function(){try{var n=localStorage.getItem(e);if(!n)return o;try{return JSON.parse(n)}catch(r){return n}}catch(n){return console.error("Error reading from localStorage:",n),o}},[e,o]),u=r(i()),c=u[0],a=u[1];function s(n){try{var r=n instanceof Function?n(c):n;a(r),localStorage.setItem(e,JSON.stringify(r))}catch(n){console.log("Set LocalStorage Error",n)}}return t(function(){s(i())},[]),[c,s]}function u(n){var t=r(n||0),e=t[1];return{count:t[0],setCount:e,increment:function(){e(function(n){return n+1})},decrement:function(){e(function(n){return n-1})},reset:function(){e(n||0)}}}function c(e,o){var i=n(function(){try{var n=sessionStorage.getItem(e);if(!n)return o;try{return JSON.parse(n)}catch(r){return n}}catch(n){return console.error("Error reading from sessionStorage:",n),o}},[e,o]),u=r(),c=u[0],a=u[1];function s(n){try{var r=n instanceof Function?n(c):n;a(r);var t=JSON.stringify(r);sessionStorage.setItem(e,t),sessionStorage.setItem(e,JSON.stringify(r))}catch(n){console.log("Set sessionStorage Error",n)}}return t(function(){s(i())},[]),[c,s]}function a(){return a=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},a.apply(this,arguments)}function s(n,e){var i=void 0===e?{method:"GET"}:e,u=i.method,c=i.options,s=r(null),f=s[0],l=s[1],d=r(!0),v=d[0],h=d[1],m=r(""),g=m[0],y=m[1];return t(function(){!function(){try{var r=function(r,t){try{var e=(h(!0),Promise.resolve(o(a({method:u,url:n},c))).then(function(n){l(n.data),h(!1)}))}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}(0,function(n){console.error(n),y(n.message),h(!1)});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(n){return Promise.reject(n)}}()},[n]),{data:f,loading:v,error:g}}var f={};function l(n,i){var u=void 0===i?{method:"GET"}:i,c=u.method,s=u.headers,l=u.options,d=e(c+"-"+n+"-"+JSON.stringify(l)),v=r({data:null,loading:!0,error:null}),h=v[0],m=v[1];return t(function(){var r=new AbortController;if(!f[d.current])return function(){try{var t=function(t,e){try{var i=Promise.resolve(o(a({method:c,url:n,headers:s,signal:r.signal},l))).then(function(n){f[d.current]=n.data,m({data:n.data,loading:!1,error:null})})}catch(n){return e(n)}return i&&i.then?i.then(void 0,e):i}(0,function(n){var r;m({data:null,loading:!1,error:{message:n.message,code:null==(r=n.response)?void 0:r.status}})});return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(n){return Promise.reject(n)}}(),function(){r.abort()};m({data:f[d.current],loading:!1,error:null})},[n,c,s,l]),h}function d(){var n="object"==typeof window,e=r(n?window.innerWidth:0),o=e[0],i=e[1],u=r(n?window.innerHeight:0),c=u[0],a=u[1];return t(function(){if(n){var r=function(){i(window.innerWidth),a(window.innerHeight)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}},[n]),{height:c,width:o}}function v(n,r){var o=e();t(function(){o.current=n},[n]),t(function(){if(null!==r){var n=setTimeout(function(){o.current&&o.current()},r);return function(){return clearTimeout(n)}}},[r])}function h(r,o){var i=e(null),u=n(function(){var n=arguments;null!==i.current&&clearTimeout(i.current),i.current=setTimeout(function(){r.apply(void 0,[].slice.call(n))},o)},[r,o]);return t(function(){return function(){null!==i.current&&clearTimeout(i.current)}},[]),u}var m=function(n){var r=e(null);return t(function(){var t=function(t){r.current&&!r.current.contains(t.target)&&n()};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}},[n]),r};export{u as useCounter,h as useDebouncedCallback,s as useFetch,l as useFetchAPI,i as useLocalStorage,m as useOutsideClick,c as useSessionStorage,v as useTimeout,d as useWindowSize};
//# sourceMappingURL=index.esm.mjs.map
